<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
 
<mapper namespace="board">
	<insert id="insertBoardCommon" parameterType="BoardCommon">
		<!-- 
			selectKey
			 - INSERT 전/후에 실행되어 게시글 번호와 같은 자동증가값을 가져오는 구문
			 - keyProperty : 결과값을 저장할 필드명
			 - resultType : 반환되는 타입의 자료형
			 - order : insert 전에 실행될지 후에 실행될지를 지정하는 속성
			 - 같은 트랜잭션에서 현재 테이블의 PK값이 필요한 경우 사용
		 -->
<!-- 		<selectKey keyProperty="boardId" resultType="int" order="BEFORE" >
			SELECT SEQ_BNO.NEXTVAL FROM DUAL		
		</selectKey> -->
		
		INSERT INTO BOARD_COMMON
		(
			BOARD_ID,
			USER_NUM,
			PRODUCT_NAME,
			PRODUCT_COMMENT,
			TRANSACTION_ADDRESS,
			TRANSACTION_CATEGORY,
			PRODUCT_CATEGORY,
			CREATE_DATE,
			VIEWS,
			TRANSACTION_STATUS
		) VALUES 
		(
			1 ,
			#{userNum},
			#{productName},
			#{productComment} ,
			#{transactionAddress},
			#{transactionCategory},
			#{productCategory},
			DEFAULT,
			DEFAULT,
			DEFAULT		
		)
	</insert>
	
		<insert id="insertBoardRental" parameterType="BoardRental">
		<!-- 
			selectKey
			 - INSERT 전/후에 실행되어 게시글 번호와 같은 자동증가값을 가져오는 구문
			 - keyProperty : 결과값을 저장할 필드명
			 - resultType : 반환되는 타입의 자료형
			 - order : insert 전에 실행될지 후에 실행될지를 지정하는 속성
			 - 같은 트랜잭션에서 현재 테이블의 PK값이 필요한 경우 사용
		 -->
<!-- 		<selectKey keyProperty="boardId" resultType="int" order="BEFORE" >
			SELECT SEQ_BNO.NEXTVAL FROM DUAL		
		</selectKey> -->
		
		INSERT INTO BOARD_RENTAL
		(
			BOARD_ID,
			RENTAL_FEE,
			DEPOSIT,
			RENTAL_START_DATE,
			RENTAL_END_DATE
		) VALUES 
		(
			1 ,
			#{rentalFee},
			#{deposit},
			#{rentalStartDate} ,
			#{rentalEndDate},	
		)
	</insert>

</mapper>